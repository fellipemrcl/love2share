generator client {
  provider = "prisma-client-js"
  output   = "../src/app/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                    String                @id @default(uuid())
  clerkId               String                @unique
  email                 String                @unique
  name                  String?
  streamingGroupUsers   StreamingGroupUser[]
}

model StreamingGroup {
  id                    String                @id @default(uuid())
  name                  String
  description           String?
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  streamingGroupUsers   StreamingGroupUser[]
}

model StreamingGroupUser {
  id                    String         @id @default(uuid())
  streamingGroup        StreamingGroup @relation(fields: [streamingGroupId], references: [id])
  streamingGroupId      String
  user                  User           @relation(fields: [userId], references: [id])
  userId                String
  createdAt             DateTime       @default(now())
  updatedAt             DateTime       @updatedAt

  @@unique([streamingGroupId, userId])
}